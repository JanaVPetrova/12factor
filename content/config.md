## III. Config
### Store config in the environment

*Конфигурация* приложения - это что-то, что должно изменяться для разных [деплоев](/codebase) (
staging, production, окружение разработки, etc). В нее входит:

* Resource handles to the database, Memcached, and other [backing services](/backing-services)
* Credentials to external services such as Amazon S3 or Twitter
* Per-deploy values such as the canonical hostname for the deploy

Иногда конфигурация в приложении прописана константами прямо в коде. Это нарушение одного из двенадцати
факторов, который требует **строго отделения конфигурации от кода**. Конфигурация меняется от деплоя к деплою,
а код - нет.

Индикатором того, что всю конфигурацию приложения правильно вынесли из кода является то, что исходный код
приложения можно открыть в любой момент, без ущерба для каких-либо учетных записей.

Заметьте, что определение "конфигурация" не включает в себя внутренние настройки приложения, такие как
`config/routes.rb` в Rails, или
[как соединены модули кода](http://static.springsource.org/spring/docs/2.5.x/reference/beans.html) в
[Spring](http://www.springsource.org/). Настройки этого типа не меняются от деплоя к деплою и поэтому
их лучше не выносить из кода.

Другой способ конфигурации - использование конфигурационных файлов, которые не включают в систему контроля
версий. Но у такого подхода есть свои уязвимости: такой файл легко можно по ошибке отправить в репозиторий.
Очень часто конфигурационные файлы разбросаны по проекту и хранят в себе информацию в разных форматах, что
усложняет управление конфигурацией из одного места. Более того, эти форматы имеют обыкновение быть
зависимыми от языка или фреймворка.

**Приложение двенадцати факторов хранит конфигурацию в *переменных окружения*** (сокращенно *env vars* или
*env*). Переменные окружения легко изменять для разных деплоев без изменения кода; в отличии от
конфигурационных файлов, вероятность их случайного попадания в репозиторий очень маленькая; и в отличии от
пользовательских конфигурационных файлов, или других механизмов, таких, как Java System Properties, они не
зависимы от языка или операционной системы.

Другой аспект управления конфигурацией - это группировка. Иногда приложения соединяют конфигурациии в
группы (которые часто называют "окружения"), которые называют, например, `development`, `test`, или
`production` в Rails, в зависимости от деплоя. Этот метод плохо масштабируется: чем больше деплоев, тем
больше нужно названий для окружений, например `staging` или `qa`. Чем дальше развивается проект, тем больше
создается окружений, разработчики создают свои собственные, такие как `joes-staging`, что приводит к
бурному росту количества конфигурационных файлов. Это делает управление деплоями очень хрупким.

В приложении двенадцати факторов переменные окружения - это рычаги отвечающие каждый за свое; каждый из них
ортогонален к другим переменным окружения. Их никогда не объединяют в группы по признаку окружения; ими
управляют независимо для каждого деплоя. Эта модель хорошо расширяется и количество деплоев приложения
естественно растет на протяжении всего времени его жизни.
